"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[43442],{927222:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});let i={kind:"InlineDataFragment",name:"getPinTrackingParamsMap_pin"};i.hash="57357f2b0e006ba81b2f258ce3430e30";let n=i},498896:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin2"}],type:"Pin",abstractKey:null};i.hash="6016b14b2081c4349ad3f3a910cc2ea7";let n=i},157485:(e,t,r)=>{var i;r.r(t),r.d(t,{default:()=>s});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin2",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="4ffad4c63399ee2e54c9a3a86d114984";let s=n},901855:(e,t,r)=>{r.d(t,{Hv:()=>l,aX:()=>c,nK:()=>p});var i=r(667294),n=r(616550),s=r(342513),a=r(785893);let{Provider:o,useHook:l}=(0,s.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),u=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){let r={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&u(e.forward[0].location)===u(r.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:r};default:return e}}function c(){let{current:e,previous:t}=l();return(0,i.useMemo)(()=>e?t.concat(e):t,[e,t])}function p({children:e}){let t=(0,n.k6)(),r=(0,n.TH)(),s=(0,n.$B)(),l={forward:[],current:{action:t.action,location:r,match:s},previous:[]},[u,c]=(0,i.useReducer)(d,l);return(0,i.useEffect)(()=>{let{action:e}=t;c({type:e,location:r,match:s})},[r]),(0,a.jsx)(o,{value:u,children:e})}},406893:(e,t,r)=>{r.d(t,{Z:()=>s}),r(441143);var i=r(785893);class n{static factory(e){return e instanceof n?e:new n(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function s(e){let{css:t,unsafeCSS:r,...s}=e,a=String(t||"")||r||"";return a?(0,i.jsx)("style",{...s,dangerouslySetInnerHTML:{__html:String(n.factory(a))}}):null}},485756:(e,t,r)=>{r.d(t,{xR:()=>_,ZP:()=>f,vR:()=>h});var i=r(658583),n=r(622541),s=r(373314),a=r(217058),o=r(353453),l=r(953565);let u={".pinterdev.com":"pinterdev","playhouse-worker-www":"playhouse-worker-www","playhouse-worker-sterling":"playhouse-worker-sterling","playhouse-worker-analytics":"playhouse-worker-analytics"},d=["accounts-oauth.pinterest.com","analytics-latest.pinterest.com","analytics.pinterest.com","canary.pinterest.com","latest.pinterest.com","sss.www.pinterest.com","testing.pinterest.com","testing-k8s.pinterest.com","unknown","www.pinterest.com","www.pinterest.co.kr","www.pinterest.co.uk","www.pinterest.com.au","www.pinterest.com.mx"],c=/www\.pinterest\.[A-Za-z]{2}/,p=/[A-Za-z]{2}\.pinterest\.com/,m=()=>{let e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";else if(e.indexOf("yandex")>-1)return"yandex"}},h=e=>{let{userAgent:t}=e;if(!t.isMobile&&!t.isTablet)return"desktop";switch(t.platform){case o.RL:return"iphone";case o.GW:return t.isTablet?"android_tablet":"android";case o.s4:return"ipad";default:return"mobile_other"}};function _(e){if(d.indexOf(e)>-1||c.test(e)||p.test(e))return e;for(let t in u)if(Object.prototype.hasOwnProperty.call(u,t)&&e.indexOf(t)>-1)return u[t];return"other"}let g=({moduleName:e,pageType:t,requestContext:r})=>{let o;let u=h(r),d=r.isAuthenticated?"auth":"unauth",c=m(),p=(0,s.Z)(),g=(o=!1,i.U2(n.VL)||(i.t8(n.VL,"1",(0,i.kZ)(n.VL)),o=!0),o),f=document.domain||"unknown";g&&((0,a.My)(`traffic.${u}.${p}.${e}.${d}`),(0,a.My)(`traffic_subdomain.${f}.${p}.${e}.${d}`),(0,a.My)(`traffic_subdomain.${f}.${u}.${p}.${e}.${d}`),(0,a.My)(`traffic_subdomain.${f}.${u}.${d}`),(0,a.My)(`traffic_duplo.${u}.${p}.${e}.${d}`),c&&(0,a.My)(`traffic_bot.${c}.${e}`));let y={domain:_(f),referrer:p??"unknown",platform:u??"unknown",browser:r.userAgent.browserName??"unknown",bot_type:c??"none",page_type:t??"unknown",is_auth:d??"unknown",module:e??"unknown",moduleType:function(e){if(/.*Board(React)?Page(Wrapper)?$/.test(e))return"Board";if(/Closeup|.*Pin(Landing|React)?Page$/.test(e))return"Pin";if("HomePage"===e||"UnauthHomeReactPage"===e||"LoginPage"===e||"Signup"===e)return"Home";if(/.*ProfilePage(Container)?$/.test(e))return"Profile";if("TopicPage"===e||"UnauthTopicPage"===e)return"Topic";if(/.*TodayTab(Feed)?Page$/.test(e))return"TodayTab";if("UnauthTodayArticleFeedPage"===e||"TodayArticleFeedPage"===e)return"TodayArticle";else if(/.*Idea(s)?RootPage$/.test(e))return"IdeasRoot";else if(/.*Idea(s)?(Topic)?Page$/.test(e))return"Ideas";else if(/.*Video(s)?RootPage$/.test(e))return"VideosRoot";else if(/.*Video(s)?(Category)?Page$/.test(e))return"VideosCategory";else if(/.*ShoppingRootPage$/.test(e))return"ShoppingRoot";else if(/.*Shopping(Category)?Page$/.test(e))return"ShoppingCategory";else return"other"}(e??"unknown"),first_visit:g??"unknown"};(0,l.nP)("webapp.traffic",{sampleRate:.1,tags:y}),("google"===p||"other"===p)&&(0,l.nP)(`webapp.traffic.${u}.${p}`,{sampleRate:.1,tags:y})};function f({pageType:e,requestContext:t,route:r}){g({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[r]||"other",pageType:e,requestContext:t})}},263032:(e,t,r)=>{r.d(t,{YS:()=>a,eF:()=>o,m_:()=>s});var i=r(934378),n=r(953565);function s(e,t,r,s,a){let o=new URLSearchParams,l=t.reduce((e,t)=>{if(null!=t){let r=function(e){let t;try{t=decodeURIComponent(e)}catch(r){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let r=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(r&&r.length>1)return r[1];return e}}(t);return e.add(r)}return e},new Set);o.append(i.NR.SOURCE_EVENT_ID,e??"0"),o.append(i.NR.DESTINATION,JSON.stringify([...l])),o.append(i.NR.EXPIRY,r?i.uV:i.ug),o.append(i.NR.PRIORITY,r?i.NR.CLICK_PRIORITY:i.NR.VIEW_PRIORITY),a&&o.append(i.NR.ADVERTISER_ID,a),s&&o.append(i.NR.CAMPAIGN_ID,s),o.append(i.NR.SOURCE_EVENT_TYPE,r?i.bC:i.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(i.NR.HOSTNAME,e)}catch(e){(0,n.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}async function a(e,t,r,i,a,o,l,u,d){let c;let{appType:p,osType:m}=o||{},h="",_="";if(["Pin","pinImpressions"].includes(e)&&t&&(i||u||d)){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:p,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:p,osType:m}});return}h=s(r,[i,u,d],!1,a,l);try{_=new URL(window.location.href).hostname}catch(e){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(_&&"www.pinterest.com"!==_)document.createElement("img").setAttribute("attributionsrc",h),(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:p,osType:m,hostname:_}});else if(!(c=await window.fetch(h,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:p,osType:m}})}catch(e){(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message,appType:p,osType:m,hostname:_,responseStatus:c&&c.status}})}}else(0,n.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:p,osType:m}})}function o(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},860208:(e,t,r)=>{function i(e){return[0,24,21,26].includes(e)}function n({articleType:e,id:t,title:r}){let i=r.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}r.d(t,{x:()=>n,y:()=>i})},798580:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(624797);let n=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,s=(e,t)=>t?e.substring(t.length).split("/")[0]:e,a=({boardUrl:e,path:t,pinId:r,pinnerUserName:a,search:o,storyPinDataId:l})=>{if(!t)return"";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case a&&`/${a}/pins/`:return"UserPinsResource";case a&&`/${a}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return l?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case a&&`/${a}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:let u=s(t,"/pin/");if(r!==u)return`RelatedPinFeedResource_${u}`;break;case/\/search\//.test(t)&&t:if(o){let e=(0,i.mB)(o,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(t)&&t:let d=s(t,"/categories/");return`CategoryFeedResource_${d}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:let c=s(t,"/news_hub/");return`NewsHubDetailsResource_${c}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:let p=s(t,"/topics/");return`TopicFeedResource_${p}`;case/\/source\//.test(t)&&t:let m=s(t,"/source/");return`DomainFeedResource_${m}`;case/\/explore\//.test(t)&&t:let h=s(t,"/explore/");return`SearchResource_${h}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case n.test(t)&&t:let _=t.match(n)?.[2]||"unknown";return`TodayArticleFeedResource_${_}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(o){let{feed_type:e,request_params:t}=(0,i.mB)(o);return`StoryFeedResource_${e}_${t}`}}return""},o=e=>{let t=e?.pathname;return t?(t.match(/\/search\//)&&e?.search&&(t+=e.search),t.toLowerCase()):""},l=({boardUrl:e,location:t,pinId:r,pinnerUserName:i,previousHistory:n,storyPinDataId:s,trackingParams:l,trackingParamsMap:u={}})=>{let d,c;if(!r||!l||!t)return;if(!u)return`${l??""}~0`;let{pathname:p,search:m}=t,h=a({boardUrl:e,path:p,pinId:r,pinnerUserName:i,search:m,storyPinDataId:s,trackingParams:l,trackingParamsMap:u}),_=Object.keys(u);if((p||"").startsWith("/pin/")){let e=_.find(e=>"PinResource"!==e);d=e?u[e]:u.PinResource}else d=u[h];return!d&&n&&n.length&&(c=a({boardUrl:e,path:o(n[n.length-1].location),pinId:r,pinnerUserName:i,search:m,storyPinDataId:s,trackingParams:l,trackingParamsMap:u}),d=u[c]),d||(d=`${l||""}~0`),d}},743079:(e,t,r)=>{r.d(t,{DW:()=>s,I:()=>n,oo:()=>i,zI:()=>a});let i=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},n=.18,s=(e,t,r)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(r/255)**2.2,a=e=>{let t=e.replace("#",""),r=parseInt(t.substr(0,2),16);return(299*r+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155}},587703:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(214877);let n=()=>(0,i.v)().logContextEvent},525364:(e,t,r)=>{let i;r.d(t,{BE:()=>u,Ih:()=>d,SU:()=>c,sV:()=>l});var n=r(667294),s=r(342513),a=r(785893);let{Provider:o,useHook:l}=(0,s.Z)("View");function u(){return i}function d({children:e,initialState:t={}}){let[r,s]=(0,n.useState)(t),l=(0,n.useCallback)(()=>{i={},(0,n.startTransition)(()=>{s({})})},[]),u=(0,n.useCallback)(e=>{i={...i,...e},(0,n.startTransition)(()=>{s(t=>({...t,...e}))})},[]),d=(0,n.useMemo)(()=>({viewContextData:r,clearViewContextData:l,setViewContextData:u}),[r,u,l]);return(0,a.jsx)(n.Fragment,{children:(0,a.jsx)(o,{value:d,children:e})})}function c(){let{viewContextData:e}=l();return e}},103322:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(667294),n=r(701785),s=r(953565);function a(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o extends i.Component{constructor(...e){super(...e),a(this,"state",{error:null,info:null}),a(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,r=this.props.type||"secondary";(0,n.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),(0,s.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,s.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},401429:(e,t,r)=>{r.d(t,{Z:()=>_});var i=r(667294),n=r(545007),s=r(587703),a=r(25919),o=r(216167);let l=(e,t,r,i)=>(n,s)=>l=>{if(n&&n.id){let u=o.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":u.callDelete().then(()=>{l((0,a.fO)()),r&&i&&r({event_type:i,object_id_str:n.id.toString()})});break;case"completed":u.callUpdate().then(()=>{s||l((0,a.fO)()),r&&i&&r({event_type:i,object_id_str:n.id.toString()})});break;case"viewed":u.callUpdate().then(()=>{r&&i&&r({event_type:i,object_id_str:n.id.toString()})})}}},u=e=>l("UserExperienceCompletedResource","completed",e,6567),d=l("UserExperienceResource","dismissed"),c=e=>l("UserExperienceViewedResource","viewed",e,4503);var p=r(785893);function m(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends i.Component{constructor(...e){super(...e),m(this,"state",{hasCompleted:[],hasDismissed:[]}),m(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:r,viewExperience:i,viewExperienceObject:n}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",n(e)):r?i(e.placement_id,e.experience_id,r):i(e.placement_id,e.experience_id))}),m(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:r,experience:i,isBackendExperience:n,preventRemoval:s,targeting:a}=this.props,o=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){let{placement_id:e,experience_id:l}=i||{},u=s||2===o;(1===o||u)&&e&&l&&(n?r(i,u):a?t(e,l,u,a):t(e,l,u),this.setState(e=>({hasCompleted:[...e.hasCompleted,l]})))}}),m(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:r,isBackendExperience:i,preventRemoval:n,targeting:s}=this.props,{placement_id:a,experience_id:o}=r||{};r&&!this.state.hasDismissed.includes(o)&&(i?t(r):s?e(a,o,!!n,s):e(a,o,!!n),this.setState(e=>({hasDismissed:[...e.hasDismissed,o]})))}),m(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:r,predicate:i,transitionType:n}=this.props,{experience_id:s,type:a}=e;return t&&t.length?t.includes(s):r&&r.length?r.includes(a):i?i(e):!n||n===a})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,r=this.props.experience;r&&this.isEligibleExperience()&&(t&&t.experience_id===r.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:r}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...r?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function _(e){let t=(0,n.v9)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),r=(0,n.I0)(),i=(0,a.be)(),o=(0,a.Am)(),l=(0,a.Ig)(),m=(0,s.Z)();return(0,p.jsx)(h,{...e,completeExperience:(e,t,n,s)=>r(i(e,t,n,!1,{},s)),completeExperienceObject:(e,t)=>r(u(m)(e,t)),dismissExperience:(e,t,i,n)=>r(o(e,t,i,void 0,n)),dismissExperienceObject:e=>r(d(e)),experience:t,viewExperience:(e,t,i)=>r(l(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>r(c(m)(e))})}m(h,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},179370:(e,t,r)=>{r.d(t,{F:()=>p,M:()=>c});var i=r(667294),n=r(545007),s=r(14890),a=r(342513),o=r(25919),l=r(957753),u=r(785893);let{Provider:d,useHook:c}=(0,a.Z)("ExperienceContext");function p({children:e}){let[t,r]=(0,i.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let r={...e};return delete r.mountedPlacements[t.payload],delete r.registerdAfterActionPlacements[t.payload],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:a,registerdAfterActionPlacements:c}=t,p=(0,n.I0)(),m=(0,n.v9)(e=>e.experiences),h=(0,o.be)(),_=(0,o.Am)(),g=(0,o.Ig)(),f=(0,i.useMemo)(()=>{let e=(0,s.bindActionCreators)({completeExperience:h,dismissExperience:_,fetchAllExperiences:o.fO,fetchAllExperiencesMulti:l.NW,fetchExperienceForPlacements:o.pz,mountPlacement:o.N,triggerExperimentsForPlacement:o.kd,viewExperience:g},p);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),r({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{r({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{r({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[h,_,p,r,g]),y=(0,i.useMemo)(()=>({experiences:m,mountedPlacements:a,registerdAfterActionPlacements:c,...f}),[m,a,c,f]);return(0,u.jsx)(d,{value:y,children:e})}},619370:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var i=r(667294),n=r(883119),s=r(401429),a=r(785893);function o(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends i.PureComponent{constructor(...e){super(...e),o(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),o(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:r,idealDirection:i}=this.props,s=r.slice(-3);return(0,a.jsx)(n.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(n.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(n.xv,{color:"default",weight:"bold",children:t})}),(0,a.jsx)(n.xu,{display:"flex",marginEnd:-2,paddingX:2,children:s.map(e=>(0,a.jsx)(n.xu,{height:60,paddingX:1,width:50,children:(0,a.jsx)(n.zd,{height:60,rounding:2,children:(0,a.jsx)(n.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var u=r(76561);function d(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends i.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,i.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",()=>{this.dismissRef.current?.()}),d(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;this.timer&&clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,r){return(t&&e.text.replace("{boardName}",t),r)?r(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:r,boardTextOverride:o,flyoutSize:d,fontSize:c,hasFullWidthButton:p=!0,idealDirection:m,useMasonryFlyout:h,noClickToDismiss:_,onClickComplete:g,onClickDismiss:f,placementId:y,positionRelativeToAnchor:v,shouldSeeReturnToHomeFeedTooltipEdu:b=!1,shouldTimeoutDismiss:w,showCaret:E,textAlign:x,textOverflow:P,textOverrideFn:T,textWeight:S,customizedComplete:I,pulsarZIndex:R,advertiserId:O,dismissButtonLocation:C,dismissButtonColor:k,dismissButtonMarginTop:A}=this.props,D=t||(({children:e})=>h?(0,a.jsx)(n.mh,{children:e}):e);return(0,a.jsx)(s.Z,{eligibleIds:r,eligibleTypes:[8],placementId:y,targeting:O?{advertiserId:parseInt(O,10)}:null,children:({complete:t,dismiss:r,experience:s})=>{let{display_data:{scroll_to_dismiss:y,scroll_to_dismiss_delay_in_seconds:O=0,...N}}=s,j=y&&e,F=()=>{M(),this.timer||(this.timer=setTimeout(r,1e3*O))},M=()=>{j&&(window.removeEventListener("scroll",F),window.removeEventListener("touchmove",F))},L=()=>{M(),t()};if(j&&(window.addEventListener("scroll",F),window.addEventListener("touchmove",F)),this.setDefaultPulsarTooltip(N),!N.has_pulsar&&!N.has_tooltip)return L(),null;w&&N.disappearTime&&N.disappearTime>0&&(this.timer=setTimeout(()=>(F(),null),N.disappearTime));let U=501041===s.experience_id||505086===s.experience_id;return N.has_tooltip&&!N.has_pulsar&&(this.dismissRef.current=F,e?.addEventListener("click",this.dismissCb)),(0,a.jsxs)(i.Fragment,{children:[N.has_pulsar&&(0,a.jsx)(u.Z,{anchor:e,leftOverride:U?342:void 0,onTouch:()=>this.handlePulsarClick(N.has_tooltip,L),paused:this.state.paused,topOverride:U?-5:void 0,zIndex:R&&R.index()}),N.has_tooltip&&(!N.has_pulsar||this.state.paused)&&(N.thumbnail_urls?(0,a.jsx)(l,{anchor:e,dismiss:F,idealDirection:m||"down",text:N.text,thumbnails:N.thumbnail_urls}):(0,a.jsx)(D,{children:(0,a.jsx)(n.J2,{_deprecatedShowCaret:E,anchor:e,color:"deprecatedBlue",idealDirection:m||"down",onDismiss:_?()=>{}:F,positionRelativeToAnchor:!h&&v,shouldFocus:!1,size:d,children:(0,a.jsxs)(n.xu,{column:12,paddingX:b?5:3,paddingY:3,children:[(0,a.jsxs)(n.xv,{align:"right"===x?"end":x,color:"inverse",overflow:P,size:c,weight:S||"bold",children:[this.getText(N,o,T),N.secondary_cta_link&&(0,a.jsx)(n.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(n.xv,{color:"inverse",size:c,weight:"bold",children:(0,a.jsx)(n.rU,{display:"inlineBlock",href:N.secondary_cta_link.url,target:"blank",underline:"hover",children:N.secondary_cta_link.text})})})]}),N.sub_text&&(0,a.jsx)(n.xu,{paddingY:2,children:(0,a.jsx)(n.xv,{color:"inverse",size:c,children:N.sub_text})}),(N.dismiss_button_text||N.complete_button_text)&&(0,a.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:C||"start",marginTop:A||2,children:[N.dismiss_button_text&&(0,a.jsx)(n.xu,{column:6,marginEnd:1,children:(0,a.jsx)(n.zx,{color:k||"blue",fullWidth:p,onClick:()=>{f&&f(),F()},size:"md",text:N.dismiss_button_text})}),N.complete_button_text&&(0,a.jsx)(n.xu,{column:N.dismiss_button_text?6:12,children:I?(0,a.jsx)(n.iP,{fullHeight:!0,onTap:()=>{L(),g&&g()},rounding:2,children:(0,a.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,a.jsx)(n.xv,{color:"shopping",weight:"bold",children:N.complete_button_text})})}):(0,a.jsxs)(n.kC,{justifyContent:"center",children:[N.complete_button_cta_url&&(0,a.jsx)(n.ZP,{color:"white",fullWidth:p,href:N.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),L(),g&&g()},size:"md",target:N.complete_button_cta_url?"blank":null,text:N.complete_button_text}),!N.complete_button_cta_url&&(0,a.jsx)(n.zx,{color:"white",fullWidth:p,onClick:()=>{L(),g&&g()},size:"md",text:N.complete_button_text})]})})]})]})})}))]})}})}}d(c,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},25919:(e,t,r)=>{let i;r.d(t,{Am:()=>f,Ig:()=>_,N:()=>w,Sd:()=>y,YX:()=>b,be:()=>g,fO:()=>p,kd:()=>v,pz:()=>m});var n=r(667294),s=r(216167),a=r(587703),o=r(703404),l=r(957753),u=r(107366),d=r(953565);let c=(e,t,r={})=>(0,d.nP)(`${e}.${t}`,{sampleRate:1,tags:r}),p=(e,t)=>r=>s.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?r((0,l.OD)(e.resource_response.data)):void 0),m=(e,t,r,n)=>(a,u)=>{if(t)return Promise.resolve();if(n&&(i=n),1===e.length){let t=e[0],i=u().experiences[t];if(JSON.stringify(i?.extraContext||null)===JSON.stringify(r)||(0,o.E3)(i)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return s.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:n}).callGet().then(e=>e.resource_response?a((0,l.cL)(e.resource_response.data)):void 0)},h=(e,t,r,n)=>(a,o,u,d=!1,c,m)=>(h,_)=>{let{experiences:g,experiencesMulti:f}=_(),y=null,v=!0;if(d||(y=(v=g[a]&&g[a].experience_id===o)?g[a]:Array.isArray(f[a])&&f[a]?.find(e=>e.experience_id===o)),y&&y.experience_id===o||d&&a&&o){let d=s.Z.create(e,{placed_experience_id:`${a}%3A${o}`,extra_context:c??{},targeting:m}),_=v?l.Yb:l.xW;switch(t){case"dismissed":return d.callDelete().then(()=>{h(_(a,o,t)),h(p(void 0,i)),r&&n&&r({event_type:n,object_id_str:o.toString()})});case"completed":return d.callUpdate().then(()=>{!u&&(h(_(a,o,t)),h(p(void 0,i)),r&&n&&r({event_type:n,object_id_str:o.toString()}))});case"viewed":return h(_(a,o,t)),d.callUpdate().then(()=>{1000162===a&&h(p()),r&&n&&r({event_type:n,object_id_str:o.toString()})});case"completedWithoutHomefeed":return d.callUpdate().then(()=>{u||h(_(a,o,t)),r&&n&&r({event_type:n,object_id_str:o.toString()})})}}return Promise.resolve()},_=()=>{let e=(0,a.Z)();return(0,n.useCallback)(h("UserExperienceViewedResource","viewed",e,4503),[e])},g=()=>{let e=(0,a.Z)();return(0,n.useCallback)(h("UserExperienceCompletedResource","completed",e,6567),[e])},f=()=>{let e=(0,a.Z)();return(0,n.useCallback)(h("UserExperienceResource","dismissed",e,6568),[e])},y=()=>{let e=(0,a.Z)();return(0,n.useCallback)(h("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},v=(e,t)=>(r,i)=>{let{experiences:n}=i(),s=n[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach(r=>{let[,i]=r.split(":"),n=t;s.metadata&&s.metadata[i]&&(n={...t,...s.metadata[i]}),(0,u.Z)({url:`/v3/experiences/${r.replace(":","%3A")}/trigger/`,method:"PUT",data:n?{extra_context:JSON.stringify(n,null,1)}:{}}).then(()=>{c("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})},b=e=>(t,r)=>{t(v(e));let{experiences:i}=r();return i[e]},w=(e,t,r)=>n=>{r&&(i=r),n(v(e,t)),t&&Object.keys(t).length>0&&n(m([e],!1,t,r))}},703404:(e,t,r)=>{r.d(t,{A0:()=>l,E3:()=>a,MQ:()=>o,fL:()=>u});var i=r(883119),n=r(862249),s=r(785893);function a(e){return!!e&&0!==e.type}let o=(e,t,r)=>{let i=e[r];return t[r]&&a(i)?i:null};function l(e){return e.display_data?.anchor}let u=e=>{let t=new DOMParser().parseFromString(e,"text/html"),r=[...t.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,s.jsx)(i.xv,{inline:!0,children:e.textContent});{let t=e.href||"",r=(0,n.Z)({url:t});return(0,s.jsx)(i.rU,{display:"inline",externalLinkIcon:r?"default":"none",href:t,rel:r?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,s.jsx)(i.xv,{inline:!0,children:r})}},26616:(e,t,r)=>{r.d(t,{$S:()=>i,V$:()=>n,_4:()=>a,iY:()=>o,mR:()=>s});let i="REFRESH_ALL_EXPERIENCES_MULTI",n="UPDATE_EXPERIENCE_MULTI",s="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",o="UPDATE_EXPERIENCE"},957753:(e,t,r)=>{r.d(t,{NW:()=>o,OD:()=>u,Yb:()=>l,cL:()=>d,xW:()=>a});var i=r(216167),n=r(26616);let s=e=>({type:n.$S,payload:{experiencesMulti:e}}),a=(e,t,r)=>({type:n.V$,payload:{placementId:e,experienceId:t,status:r}}),o=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(s(e.resource_response.data)):void 0),l=(e,t,r)=>({type:n.iY,payload:{placementId:e,experienceId:t,status:r}}),u=e=>({type:n._4,payload:{experiences:e}}),d=e=>({type:n.mR,payload:{experiences:e}})},76561:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(883119),n=r(667294),s=r(785893);let a=(e,t,r,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(r/2-e/2)});function o({anchor:e,children:t,zIndex:r,leftOverride:o,topOverride:l}){let u=(0,n.useRef)(null),[d,c]=(0,n.useState)(0),[p,m]=(0,n.useState)(0),{height:h,width:_}=e.getBoundingClientRect();return(0,n.useEffect)(()=>{let{current:t}=u;if(e&&t){let{height:e,width:r}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:n}=a(h,_,e,r);c(i),m(n)}}),(0,s.jsx)(i.xu,{ref:u,dangerouslySetInlineStyle:{__style:{left:o||d,top:l||p}},"data-test-id":"center-box",position:"absolute",zIndex:r?new i.Ry(r):void 0,children:t})}let l=function(e){let{anchor:t,leftOverride:r,onTouch:n,onMouseEnter:a,paused:l,size:u,topOverride:d,zIndex:c}=e;return t?(0,s.jsx)(o,{anchor:t,leftOverride:r,topOverride:d,zIndex:c,children:(0,s.jsx)(i.iP,{fullWidth:!1,onMouseEnter:a,onTap:({event:e})=>n(e),rounding:"circle",children:(0,s.jsx)(i.o3,{paused:l,size:u})})}):null}},190971:(e,t,r)=>{r.d(t,{c:()=>p});var i=r(667294),n=r(616550),s=r(179370),a=r(96157),o=r(624797),l=r(554786);let u=(e,t)=>((0,a.XU)(e)&&e.state?.from&&(e=e.state.from),(0,a.HV)(e))?t?1000503:1000558:(0,a.En)(e)?t?1000506:1000559:(0,a.L6)(e)?t?1000141:1000494:void 0,d=(e,t)=>{if(t&&(0,a.L6)(e))return 1000564},c=(e,t)=>{if(t){if((0,a.HV)(e))return 1000541;if((0,a.En)(e))return 1000542;if((0,a.L6)(e))return 1000140}else if((0,a.HV)(e))return 1000544;else if((0,a.En)(e))return 1000543;else if((0,a.L6)(e))return 1000540},p=()=>{let{mountPlacement:e,registerdAfterActionPlacements:t}=(0,s.M)(),r=(0,l.HG)(),p=(0,n.TH)();return(0,i.useCallback)((i,n,s)=>{let l;switch(i){case"Save":l=u(p,r);break;case"Download":(0,a.L6)(p)&&(l=r?1000499:1000500);break;case"Clickthrough":l=c(p,r);break;case"NoAction":l=d(p,r)}null!=l&&((0,a.En)(p)&&(n={...n,search_query:(0,o.mB)(p.search)}),null!=l&&(t[l]||(0,a.XU)(p))&&e(l,n,s))},[t,e,p,r])}},259743:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(422578),n=r(244311),s=r(288088);let a=function(e,t){let r=t[s.G];return r?r[(0,n.getInlineDataFragment)(e).name]:(0,i.readInlineData)(e,t)}},666472:(e,t,r)=>{r.d(t,{F:()=>_,Z:()=>h});var i=r(667294),n=r(263032),s=r(214877),a=r(547643),o=r(30378),l=r(5859),u=r(554786),d=r(369708),c=r(953565),p=r(84768);let m={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function h({carouselData:e,closeupImpressionType:t,closeupNavigationType:r,componentType:h,contextLogData:_,clientTrackingParams:g,elementType:f,impressionAuxFields:y,inImpressionExp:v,impressionType:b,impressionsFramework:w,isPaused:E,loggingId:x,objectIdStr:P,slotIndex:T,trackCarousel:S,viewData:I,viewParameter:R,viewType:O,isPromoted:C,storyPinProductEventData:k,pinData:A}){let{logContextEvent:D}=(0,s.v)(),{logMrcVideoAdEventOnPlay:N}=(0,d.rG)(),j=w||o.Z,F=(0,i.useRef)(null),M=i=>{let s=m[b],a=s.idType,o={clientTrackingParams:g,endTime:i.endTime,[a]:x,slotIndex:T,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...y,forcedExit:"removed"===i.forcedExit?0:void 0},l={};if("Pin"===b&&(o={...o,pinCellWidth:F.current?.offsetWidth||0,pinCellHeight:F.current?.offsetHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight},y?.chromeAraViewExp&&A&&A.isPromoted)){let{attributionSourceId:e}=A;(0,n.YS)(b,A.isPromoted??null,e??null,A.link??null,A.campaignId??null,y.araAuxData??null,A.advertiserId??null,A.domain??null,A.adDestinationUrl??null),l={is_arapi:!0,attribution_source_id:e||""}}let u={component:h,object_id_str:P,view_type:O,view_data:I||{},view_parameter:R};if(S)e&&S&&D({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...o,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...u,aux_data:{..._,...l}});else{let e={clientTrackingParams:g,event_type:s.eventType,...u,element:f,event_data:{[s.impressionType]:"Story"===b?o:[o],...k?{storyPinProductEventData:k}:{}},aux_data:{closeup_navigation_type:r,..._,...l}};D(e),N(e)}},{expName:L,group:U}=(0,a.Z)({skipActivation:!0}),$=(0,u.ZP)(),Z=(0,p.MM)(),{isAuthenticated:B}=(0,l.B)(),H=(0,i.useCallback)(()=>{try{let{current:e}=F;e instanceof HTMLElement&&(!C||e.getElementsByTagName("img").length>0)&&(j.start(e).onExitViewport(M).setDebugId(x||"unknown"),U&&(0,c.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:$,experimentName:L,group:U,handlerId:Z,isAuthenticated:B,slotIndex:T??"unknown"}}))}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[F.current]);return(0,i.useEffect)(()=>(v&&!j.inExperiment&&j.setExperimentStatus(!0),E||H(),()=>{let{current:e}=F;e instanceof HTMLElement&&(!C||e.getElementsByTagName("img").length>0)&&j.stop(e)}),[E,H]),F}let _=({children:e,...t})=>e({impressionTrackerRef:h(t)})},307772:(e,t,r)=>{function i(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z3:()=>c,LU:()=>p,ZP:()=>m});let n=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,s={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},o={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[s.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[s.exit]:o,[s.stopped]:o,[s.paused]:o,[s.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class u{constructor(e){i(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),i(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),i(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),i(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(s.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(s.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,n&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this._debug(s.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(s.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(s.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(n)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case s.flushed:case s.paused:case s.exit:a[this.debugId]=!0}}}function d(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let c=!0,p=!1;class m{constructor(){d(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),d(this,"_handleMutations",(e,t)=>{let r=this.mutationObservers.get(t);r&&r.offsetHeight<1&&r&&this.stop(r,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let r=this.activeImpressions.get(e);r&&(r.stop(t),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new u(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=c){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=c){(e!==p||this.pausePriority!==c)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:r}=t.getBoundingClientRect();return r>e?r:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:r}=t.getBoundingClientRect();return r<e?r:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let r={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,r)=>{r.d(t,{Z:()=>i});let i=new(r(307772)).ZP},339001:(e,t,r)=>{r.d(t,{Wc:()=>u,XB:()=>l,bF:()=>c,nk:()=>o,r7:()=>p});var i=r(667294),n=r(785893);function s(e,t,r){return e.split(r).map(e=>{if(e.match(r)){let r=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,r))return t[r]}return e})}let a=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return s(e,t,a)}function l({text:e,markers:t,jsxReplacements:r}){let i=["strong","a"],n=/(\{\{\s*\w+\s*\}\})/g,a=/<\s*(strong|a)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,o=/<(strong|a)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,l=/<(strong|a)\b[^>]*>(.*?)<\/\1>/,u=e.match(a)?.map(e=>{let i=e.match(o),a=(i&&i[2])??0,u=e.match(l),d=(u&&u[2])??"",c=t?s(d,t,n):[d];return a&&r&&r[a]?.({innerHtmlStrings:c})});return e.split(a)?.map(e=>i.some(t=>e===t)?u?.shift():t?s(e,t,n):e)}function u(e,t){return s(e,t,a).join("")}let d=/(\{\s*\w+\s*\})/g;function c(e,t){return s(e,t,d)}let p=({text:e})=>Array.isArray(e)?e.map((e,t)=>(0,n.jsx)(i.Fragment,{children:e},t)):e},891162:(e,t,r)=>{r.d(t,{Q6:()=>d,ZP:()=>o,qe:()=>l,yU:()=>u});var i=r(520893);let n=(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),s=e=>e;function a(e,t=n,r=s){return function(i){let n=[];return function(...s){let a=n.find(e=>t(e.args,r(s)));if(a)return a.result;let o=i(...s);return n.push({args:r(s),result:o}),e&&n.length>e&&n.shift(),o}}}let o=a(),l=a(1),u=a(void 0,n,e=>[JSON.stringify(e)]),d=a(0,(e,t)=>e.length===t.length&&e.every((e,r)=>(0,i.Z)(e,t[r])))},456299:(e,t,r)=>{r.d(t,{Z:()=>a}),r(167912);var i,n=r(259743);let s=void 0!==i?i:i=r(927222),a=e=>{let t=(0,n.Z)(s,e),r=null;return t?.trackingParamsMap&&(r=t.trackingParamsMap.reduce((e,t)=>t?.key?{...e,[t.key]:t.data??""}:e,{})),r}},939129:(e,t,r)=>{r.d(t,{e:()=>i,n:()=>n});let i=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}},n=e=>{let t=[{pattern:"/",name:"homefeed"},{pattern:"/pin/:id",name:"pin_closeup"},{pattern:"/pin/:id/sent",name:"pin_closeup"},{pattern:"/pin/:id/visual-search",name:"flashlight"},{pattern:"/amp/pin/:id",name:"amp"},{pattern:"/today",name:"today"},{pattern:"/search",name:"search_landing_page"},{pattern:"/search/:scope",name:"search_results"},{pattern:"/notifications",name:"notifications"},{pattern:"/settings",name:"settings_landing_page"},{pattern:"/settings/:tab",name:"settings_tab"},{pattern:"/:username/_created",name:"profile_created_tab"},{pattern:"/:username/_saved",name:"profile_saved_tab"},{pattern:"/:username/:slug",name:"board"},{pattern:"/:username",name:"profile"},{pattern:"/ideas/:interest/:id",name:"topic"}].find(t=>{if(!e)return"pathname_invalid";let r=t.pattern.split("/").filter(e=>""!==e),i=e.split("/").filter(e=>""!==e);if(r.length!==i.length)return!1;for(let e=0;e<r.length;e+=1)if(!r[e].startsWith(":")&&i[e]!==r[e])return!1;return!0});return t?t.name:"unknown"}},493538:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(760890),n=r(667294),s=r(107860),a=r(906623),o=r(297315);function l({children:e,isAtEndOfFeed:t,pinData:r,itemCount:l,includeBackgroundImages:u=!1,includeVideos:d=!1,includeSections:c=!1}){return o.N5()?.isAuthenticated||(c=!0),(0,i.Z)({pinData:r,isAtEndOfFeed:t,includeBackgroundImages:u,includeVideos:d,includeSections:c}),!function(e){let t=(0,a.E)(),r=(0,n.useRef)(null);(0,n.useEffect)(()=>{e!==r.current&&(r.current=e,t&&(0,s.ZP)(s.at))},[!!t,e])}(l),e}},865611:(e,t,r)=>{r.d(t,{Z:()=>i});let i=e=>e<100?"0-100ms":e<250?"100-250ms":e<500?"250-500ms":e<1e3?"500-1000ms":e<2e3?"1000-2000ms":e<3e3?"2000-3000ms":e<4e3?"3000-4000ms":e<5e3?"4000-5000ms":e<6e3?"5000-6000ms":e<7e3?"6000-7000ms":e<8e3?"7000-8000ms":e<9e3?"8000-9000ms":e<1e4?"9000-10000ms":e<15e3?"10000-15000ms":e<2e4?"15000-20000ms":e<25e3?"20000-25000ms":"25000+ms"},371626:(e,t,r)=>{r.d(t,{Z:()=>i});let i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},396596:(e,t,r)=>{r.d(t,{Z:()=>i});function i(e){let t=e.split("?")[0]??"";if(!t.startsWith("/pin/"))return null;let r=t.split("/")[3];return r?"feedback"===r||"sent"===r?r:null:"default"}},421715:(e,t,r)=>{r.d(t,{V:()=>s,b:()=>n});let i=e=>e?e.tagName||null!==e.parentElement?"HTML"===e.tagName&&null===e.parentElement?"HTML":"BODY"===e.tagName&&e.parentElement?.tagName==="HTML"?"BODY":e.dataset.layoutShiftBoundaryID||e.dataset.testId?e.dataset.layoutShiftBoundaryID||e.dataset.testId:e.parentElement?i(e.parentElement):"NOT_A_NODE":"DOCUMENT":"NODE_REMOVED",n=e=>{let t=e.attribution.processedEventEntries.find(t=>t.startTime===e.attribution.interactionTime),r=t?t.target:null;return r?i(r):"NODE_REMOVED"},s=e=>e?i(e):"NODE_REMOVED"},575742:(e,t,r)=>{r.d(t,{J:()=>i,Z:()=>n});let i=-1;function n(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},325362:(e,t,r)=>{r.d(t,{Z:()=>i});function i(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}},862249:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(968946);let n=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,i.Z)(e))},268127:(e,t,r)=>{r.d(t,{Y:()=>m,Z:()=>h});var i,n,s=r(667294);r(167912);var a=r(333739),o=r(807023);let l=void 0!==i?i:i=r(498896),u=void 0!==n?n:n=r(157485),d=e=>{let t=Symbol("SKIP"),r=e=>Object.entries(e).filter(([,e])=>e!==t).reduce((e,[t,r])=>({...e,[t]:r}),{});if("deprecated"!==e.type){let i=e.data;return r({...i.isEligibleForPdp||i.isOosProduct||i.isStaleProduct?{...(()=>{let e=i.richMetadata?.products?.[0];return{carousel_image_count:t,brand_signature:e?.brand?.signature||t,free_shipping_price:e?.shippingInfo?.freeShippingPrice||t,free_shipping_value:e?.shippingInfo?.freeShippingValue||t,num_variants:e?.variantSet?.variants?.length||t,total_dimension_option_count:e?.variantSet?.dimensionMetadata?.length||t,valid_dimension_option_count:t}})(),pin_show_pdp_oos:!!i.isOosProduct||t,pin_show_pdp_stale:!!i.isStaleProduct||t,pin_show_pdp:!!i.isEligibleForPdp||t}:{},pin_is_shop_the_look:!!(i.shoppingFlags?.includes(2)||i.aggregatedPinData?.isShopTheLook)||t,is_available:!!i.shoppingFlags?.includes(1)||t,is_product_pin_v2:!!i.shoppingFlags?.includes(5)||t,is_rich_product_pin:!!i.shoppingFlags?.includes(6)||t,is_organic_product_carousel:t,item_id:(i.richSummary?.products?.[0]||{}).itemId||t,item_set_id:(i.richSummary?.products?.[0]||{}).itemSetId||t,story_pin_id:i.storyPinData?i.storyPinDataId:t})}{let i=e.data;return i?r({...i.is_eligible_for_pdp||i.is_oos_product||i.is_stale_product?{...(()=>{let e=(i.rich_metadata||i.rich_summary)?.products?.[0],r=e?.additional_images?.length?(i.images?1:0)+e.additional_images.length:i.carousel_data?.carousel_slots?.length,n=i.rich_metadata?.products?.[0],s=n?.variant_set?.variants??[];return{carousel_image_count:r||t,brand_signature:n?.brand?.signature||t,free_shipping_price:n?.shipping_info?.free_shipping_price||t,free_shipping_value:n?.shipping_info?.free_shipping_value||t,num_variants:s.length||t,total_dimension_option_count:n?.variant_set?.dimension_metadata?.length||t,valid_dimension_option_count:(n?.variant_set?.dimension_metadata||[]).reduce((e,{name:t,values:r})=>e+(t&&r||[]).filter(e=>s.some(r=>r.dimensions?.[t??""]===e)).length,0)||t}})(),pin_show_pdp_oos:!!i.is_oos_product||t,pin_show_pdp_stale:!!i.is_stale_product||t,pin_show_pdp:!!i.is_eligible_for_pdp||t}:{},pin_is_shop_the_look:!!(i.shopping_flags?.includes(2)||i.aggregated_pin_data?.is_shop_the_look)||t,is_available:!!i.shopping_flags?.includes(1)||t,is_product_pin_v2:!!i.shopping_flags?.includes(5)||t,is_rich_product_pin:!!i.shopping_flags?.includes(6)||t,is_organic_product_carousel:!!(i.shopping_flags?.includes(10)||(i.product_pin_data?.items?.[0]||{}).additional_images)||t,item_id:(i.rich_summary?.products?.[0]||{}).item_id||t,item_set_id:(i.rich_summary?.products?.[0]||{}).item_set_id||t,story_pin_id:i.story_pin_data?i.story_pin_data_id:t}):{}}},c=e=>0===Object.keys(e).length?{}:{commerce_data:JSON.stringify(e)},p=e=>{let{childDataKey__DEPRECATED:t}=(0,o.Q)(l,e,{useLegacyAdapter:e=>({})}),{childDataKey__DEPRECATED:r}=(0,a.Zm)(u,null==t?{type:"deprecated",data:null}:t,{useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e}),i=(0,s.useRef)(r);return(0,s.useEffect)(()=>{i.current=r}),(0,s.useCallback)(e=>c({...e?.default,...d(i.current),...e?.override}),[])},m=({children:e,pinKey:t})=>e(p(t)),h=p},353453:(e,t,r)=>{r.d(t,{GW:()=>n,RL:()=>i,s4:()=>s});let i="ios",n="android",s="ipad"},369708:(e,t,r)=>{r.d(t,{Wr:()=>d,rG:()=>u});var i=r(667294),n=r(214877),s=r(342513),a=r(340523),o=r(785893);let{Provider:l,useHook:u}=(0,s.Z)("VideoPlayer");function d({children:e}){let{logContextEvent:t,logImpression:r}=(0,n.v)(),{checkExperiment:s}=(0,a.F)(),[u,d]=(0,i.useState)(!1),[c,p]=(0,i.useState)([]),[m,h]=(0,i.useState)([]),[_,g]=(0,i.useState)({}),f=s("web_ads_mrc_video_impression").anyEnabled,y=e=>{g(t=>({...t,[e]:!0}))},v=(0,i.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||r)&&p(t=>[...t,e].slice(-1e3))}},[f]),b=(0,i.useCallback)(e=>{18===e.eventType&&f&&h(t=>[...t,e].slice(-1e3))},[f]),w=e=>{let{renderDuration:t,time:r}=e.event_data.pinImpressions[0],i=Math.max(t,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:r+i,renderDuration:i}]}}},E=e=>{if(e.eventData){let{time:t,endTime:r}=e.eventData,i=Math.max((r??0)-(t??0),15e8);return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(t??0)+i}}}return null};(0,i.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0];return!_[r]||!f||(t(w(e)),!1)});e.length!==c.length&&p(e)},[c,f,t,_]),(0,i.useEffect)(()=>{let e=m.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(_[t]&&f){let t=E(e);return t&&r(t),!1}return!0});e.length!==m.length&&h(e)},[m,f,r,_]);let x=(0,i.useMemo)(()=>({captionsEnabled:u,logMrcVideoAdImpressionOnPlay:b,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:d,setVideoPlayed:y,videosPlayed:_}),[u,v,b,_]);return(0,o.jsx)(l,{value:x,children:e})}},923368:(e,t,r)=>{r.d(t,{Nb:()=>o,Of:()=>l,YO:()=>a,ZP:()=>c,x4:()=>d});var i=r(667294),n=r(891162),s=r(392029);let a=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:r})=>e&&t?r?s.Uj:s.zT:1,o=(0,n.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:r,showProductDetailPage:i,viewportSize:n,maxWidth:s,descriptionPaneWidth:a,isCloseupRelatedPinsAboveTheFoldEnabled:o,isCommentThreadExpanded:l,isPinNoteExpanded:u,isProductDetailsExpanded:d,isShoppingModuleExpanded:c,setIsCommentThreadExpanded:p,setIsPinNoteExpanded:m,setIsProductDetailsExpanded:h,setIsShoppingModuleExpanded:_,stackedCloseupEnabled:g,isInRemoveMagnifyingGlassVariant:f,setAbortNoActionPlacementTimeout:y})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:r,showProductDetailPage:i,viewportSize:n,maxWidth:s,descriptionPaneWidth:a,isCloseupRelatedPinsAboveTheFoldEnabled:o,isCommentThreadExpanded:l,isPinNoteExpanded:u,isProductDetailsExpanded:d,isShoppingModuleExpanded:c,setIsCommentThreadExpanded:p,setIsPinNoteExpanded:m,setIsProductDetailsExpanded:h,setIsShoppingModuleExpanded:_,stackedCloseupEnabled:g,isInRemoveMagnifyingGlassVariant:f,setAbortNoActionPlacementTimeout:y})),l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:s.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:s.u6,descriptionPaneWidth:s.u6-s.Gg,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentThreadExpanded:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:()=>{},setIsShoppingModuleExpanded:()=>{}},u=(0,i.createContext)(l);function d(){let e=(0,i.useContext)(u);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let c=u},392029:(e,t,r)=>{r.d(t,{$T:()=>v,CI:()=>a,Ch:()=>l,ER:()=>y,Gb:()=>u,Gg:()=>n,Hf:()=>P,Ie:()=>h,J6:()=>m,KP:()=>_,Kn:()=>o,O5:()=>b,Uj:()=>d,YE:()=>w,bx:()=>g,cg:()=>E,d2:()=>p,g9:()=>f,iB:()=>T,rv:()=>x,u6:()=>s,zT:()=>c});var i=r(883119);let n=508,s=1016,a=488,o=992,l=672,u=1176,d=.6,c=.84,p=40,m=16,h=72,_=740,g=912,f=32,y=16,v=24,b=2,w=16,E=16,x=1,P=new i.Ry(5),T={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},64819:(e,t,r)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function n(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:()=>a,N8:()=>n,Qv:()=>s,_f:()=>i,vX:()=>o});let s=(e,t,r=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}});function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function o(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},409403:(e,t,r)=>{function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function n(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function s(e){return{type:"PIN_SAVE",payload:e}}function a(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function o(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function u({id:e,text:t,nodeId:r}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:r}}}function d({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}function h({id:e,nodeId:t,resource:r,value:i}){return{payload:{id:e,nodeId:t,resource:r,value:i},type:"UPDATE_PIN_TRACKING_PARAMS_MAP"}}r.d(t,{Er:()=>h,Gb:()=>a,I1:()=>l,Ib:()=>d,Ur:()=>s,Vw:()=>o,b9:()=>p,i0:()=>c,mO:()=>n,q1:()=>u,yR:()=>i,yj:()=>m})},386129:(e,t,r)=>{r.d(t,{Ge:()=>u,JS:()=>a,OF:()=>b,P_:()=>o,Q_:()=>p,b8:()=>m,eR:()=>v,h2:()=>d,h6:()=>c});var i=r(216167),n=r(107366),s=r(666698);function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),u=({id:e,orbacSubjectId:t,blockSource:r,blockContext:n,logContextEvent:s})=>async a=>{a(l(e,!0));let o=await i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:r,block_context:n}).callCreate().catch(()=>a(l(e,!1)));return s({event_type:54,object_id_str:e}),o},d=(e,t)=>async r=>{r(l(e,!1));let n=await i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>r(l(e,!0)));return t({event_type:55,object_id_str:e}),n};function c(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>i.Z.create("UserStateResource",{state:e,value:t}).callCreate(),m=(e,t,r)=>(i,a)=>{(0,n.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{r({event_type:48,object_id_str:a().session.userId}),e(),(0,s.Dm)()},t)},h=e=>e>=200&&e<400,_=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",g=async(e,t,r)=>{let n=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(n.resource_response.data[e]){let{status:i,signature:s}=n.resource_response.data[e];"processing"===i||"registered"===i?setTimeout(async()=>{g(e,t,r)},5e3):"succeeded"===i?t(_(s)):r()}else r()},f=(e,t,r,n,s)=>(new FormData().append("img",e),i.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:i,upload_url:a,upload_parameters:o}=t.resource_response.data,l=new XMLHttpRequest;l.open("POST",a,!0),l.onload=()=>{h(l.status)?(r(100),g(i,n,s)):s()},l.upload.onprogress=e=>{r(Math.round(100*e.loaded/e.total))};let u=new FormData;for(let e in o)u.append(e,o[e]);u.append("file",e),l.send(u)}},()=>{s()})),y=e=>new Promise((t,r)=>{f(e,"pinimage",()=>{},e=>{t(e)},e=>{r(e)})}),v=e=>new Promise((t,r)=>{"string"==typeof e?e.startsWith("data")&&y(function(e,t=512){let r=e.split(";"),i=r[0].split(":")[1],n=atob(r[1].split(",")[1]),s=[];for(let e=0;e<n.length;e+=t){let r=n.slice(e,e+t),i=Array(r.length);for(let e=0;e<r.length;e+=1)i[e]=r.charCodeAt(e);let a=new Uint8Array(i);s.push(a)}return new Blob(s,{type:i})}(e)).then(e=>t(e)):r("Invalid Image")}),b=e=>()=>(0,n.Z)({url:"/v3/register/exists/",data:{email:e}})},937310:(e,t,r)=>{r.d(t,{Z:()=>i});let i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},94816:(e,t,r)=>{r.d(t,{Z:()=>p,o:()=>c});var i=r(667294),n=r(883119),s=r(587703),a=r(515278),o=r(213377),l=r(140017),u=r(149722),d=r(785893);let c="AddPinRep";function p({ctaText:e,handleClick:t,height:r,iconSize:c,textSize:p,component:m}){let h=(0,s.Z)(),_=(0,l.ZP)(),g=(0,u.Z)(),f=(0,a.Z)();return(0,i.useEffect)(()=>{h({event_type:120,component:m??0,element:10643})},[h,m]),(0,d.jsx)(n.xu,{children:(0,d.jsx)(n.Tg,{href:"/pin-builder/",onTap:()=>{if(f){f();return}g.isPartner&&h({event_type:101,component:0,element:10643}),t&&t()},children:(0,d.jsxs)(n.st,{children:[(0,d.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:r||o.yF,justifyContent:"center",rounding:2,width:r||void 0,children:(0,d.jsx)(n.xu,{color:"default",height:c||40,rounding:"circle",width:c||40,children:(0,d.jsx)(n.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:c||40})})}),(0,d.jsx)(n.xu,{padding:2,children:(0,d.jsx)(n.xv,{color:"subtle",size:p||"300",weight:"bold",children:e||_._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},299351:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(545007),n=r(282008),s=r(94816),a=r(569785),o=r(883119),l=r(785893);function u({story:e}){let{action:{text:t,url:r},custom_properties:{image:i,image_alt:n}}=e;return(0,l.jsxs)(o.xu,{position:"relative",children:[(0,l.jsx)(o.zd,{height:285,rounding:4,width:228,children:(0,l.jsx)(o.Ee,{alt:n,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:i})}),(0,l.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",padding:4,position:"absolute",width:228,children:(0,l.jsx)(o.ZP,{color:"white",fullWidth:!0,href:r,text:t})})]})}function d(e){let t=(0,i.v9)(t=>t.desktopStories[e.storyId]);if(!t)return null;switch(t.story_type){case"BUBBLE_ONE_COL":return(0,l.jsx)(n.Z,{bubbles:t.objects,id:e.storyId,referringSource:t.referring_source,slotIndex:e.slot,storyType:t.story_type,title:t.title,viewParameter:e.viewParameter,viewType:e.viewType});case"feed_card_default":case"feed_card_video":return(0,l.jsx)(u,{story:t});case"add_pin":return(0,l.jsx)(s.Z,{});case"board_shop_tool_module":return(0,l.jsx)(a.Z,{storyId:e.storyId});default:return null}}},762240:(e,t,r)=>{r.d(t,{Z:()=>a,d:()=>s});var i=r(827625);let n=e=>JSON.stringify(e.trim().split(",").reduce((e,t)=>{let[r,i]=t.split(":");return r&&i?{...e,[r]:i}:e},{})),s={name:"BoardContentRecommendationResource",options:({collection:e,forceBackendExperiments:t,from_news_id:r,ideasReferrer:i,requestParams:s})=>({type:e.type,id:e.id,force_experiments:t&&n(t),__track__from_news_id:r,__track__referrer:i,request_params:s}),key:"resource"},a=e=>(0,i.jB)(s.name,s.options(e))},569785:(e,t,r)=>{r.d(t,{Z:()=>u});var i=r(667294),n=r(545007),s=r(214877),a=r(766746),o=r(19447),l=r(785893);function u({storyId:e}){let t=(0,n.v9)(t=>t.desktopStories[e]),r=t?.story_type==="board_shop_tool_module"?t:void 0,{logContextEvent:u}=(0,s.v)(),d=(0,o.S6)();return((0,i.useEffect)(()=>{r&&u({event_type:13,component:15088,view_parameter:3069,view_type:5,aux_data:{board_id:r.aux_fields?.board_id}})},[u,r]),r)?(r.objects=r?.objects.map(e=>"pin"===e.type?d(e.id):e),(0,l.jsx)(a.default,{component:15088,story:r,storyKey:{type:"deprecated",data:r},surface:"BoardShoppingModule",view:5,viewParameter:3069})):null}},84768:(e,t,r)=>{r.d(t,{MM:()=>a,uo:()=>o,wH:()=>s});var i=r(342513),n=r(706196);let{Provider:s,useHook:a}=(0,i.Z)("HandlerId");function o(){let e=a();return(0,n.ac)(e).site}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/43442-9f3354bf36482c87.mjs.map